<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tjr_monad__Event (tjr_monad.Tjr_monad__Event)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">tjr_monad</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Tjr_monad__Event</span></h1></header><div class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a event</code><code></code><code></code></div><div class="doc"><p>The type of events that resolve to <code class="code">'a</code></p></div></div><div class="spec type" id="type-event_ops"><a href="#type-event_ops" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'t event_ops</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-event_ops.ev_create" class="anchored"><td class="def field"><a href="#type-event_ops.ev_create" class="anchor"></a><code>ev_create : a. unit <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-event">event</a>, <span class="type-var">'t</span>) <a href="../Tjr_monad/Monad_ops/index.html#type-m">Tjr_monad.Monad_ops.m</a>;</code></td></tr><tr id="type-event_ops.ev_wait" class="anchored"><td class="def field"><a href="#type-event_ops.ev_wait" class="anchor"></a><code>ev_wait : a. <span class="type-var">'a</span> <a href="index.html#type-event">event</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'t</span>) <a href="../Tjr_monad/Monad_ops/index.html#type-m">Tjr_monad.Monad_ops.m</a>;</code></td></tr><tr id="type-event_ops.ev_signal" class="anchored"><td class="def field"><a href="#type-event_ops.ev_signal" class="anchor"></a><code>ev_signal : a. <span class="type-var">'a</span> <a href="index.html#type-event">event</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../Tjr_monad/Monad_ops/index.html#type-m">Tjr_monad.Monad_ops.m</a>;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Multiple threads can be waiting on an event. Only one thread
should signal the event. It is an error to signal the same event
more than once. If this happens, the new signalled value is
discarded and no further actions are taken. FIXME perhaps we should
throw an exception or something. An event is a bit like a channel
that multiple readers can register on (and all will receive any
msgs), and which only carries at most one msg.</p><p>NOTE lwt has two types, <code class="code">'a t</code> for promises and <code class="code">'a u</code> for
resolvers. These are implemented using the same underlying
structure.</p></div></div></body></html>